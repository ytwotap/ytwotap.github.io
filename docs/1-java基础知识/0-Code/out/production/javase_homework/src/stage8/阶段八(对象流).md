# 阶段八利用对象流处理

**目前状况:**

- 虽然我们现在使用了字符流去改进系统,但是我们解析起来比较麻烦
- 我们读取数据的时候需要利用String相关的API去处理 还原成对象
- 我们是否可以使用对象流直接写对象呢?

**改进方案:**

- 利用对象流 将学生对象保存至文件当中(students.txt)

**思路**

- 初始化
  - 通过构造函数 初始化的时候
  - 判断文件长度  是否有内容 有内容才读取
  - 读取的是学生数组
  - 遍历该数组,就可以取出来每一个学生对象 然后放入我们的StudentList中
- 增
  - 对我们的StudentList进行操作 添加新学生
  - 然后把StudentList写入到文件中
- 删
  - 同上,操作完成后,更新StudentList
  - 然后把StudentList写入到文件中
- 改
  - 先根据唯一标识的学号查找到该学生
  - 选择要修改的数据,输入数据,set方法去更新数据
  - 然后把StudentList写入到文件中
- 查询
  - 可直接读取StudentList
  - 记得判断是否为null,不为null返回该学生对象

**可能出现的异常:**

- java.io.EOFException
  - 这个异常可能会出现在readObject方法时,假设我文件中没有对象数据,那么我去读的时候就会有这个异常,在这里我们无法向read方法一样去跟根据是否等于-1去判断读取到文件末尾了.
    所以我们在第一次读取的时候要去判断文件是否有数据,有了才去读取.同时也要去用数组处理,然后直接写入数组.


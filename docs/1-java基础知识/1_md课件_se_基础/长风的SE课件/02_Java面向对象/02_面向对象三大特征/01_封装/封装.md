# 封装

> 封装（encapsulate）是一种信息隐藏技术，依赖于访问权限控制符实现

- 所谓封装即是，隐藏对象中属性和一些实现细节，仅对外提供公共的访问方法
  - 广义的说类也是一种封装，指将数据和基于数据的操作封装在一起
  - 狭义的封装则是指借助访问权限控制符，将数据和数据操作保护在内部的一种技术
    - 此时系统的其他部分只有通过在数据外面的被授权的操作才能够进行交互
- **封装的目的是将类的使用者和设计者分开**
- 在面向对象的编程中，用类来封装相关的数据和方法，保证了数据的安全和系统的严密性









> 思考：我们之前定义的类中，都没有关注访问权限控制符，会有什么问题？

- 不进行权限控制，成员可能被不应该具有访问权限的类访问到
- 普通情况的访问和修改的形式过于简陋，没有办法做任何处理
  - 可能用户会设置不合法的数据
  - 希望用户能够看到应该看的内容







> 封装具体应该怎么做？

- 应该认真考虑成员变量的访问权限，普遍来说，成员变量应该设置成private

  - 然后，为了修改成员变量的值，提供public的set方法
  - 为了访问成员变量的值，提供public的get方法

- get、set方法具有严格的定义格式

  - 对于变量xxx，应该使用getXxx，setXxx的名字
  - 对于boolean类型的变量来说，推荐的get方法写法为isXxx，所以布尔类型变量不推荐使用isXxx的形式声明
    - 使用isXxx的定义方式会和约定的get方法写法撞车
    - 导致某些地方，会误以为该布尔类型变量名为xxx，导致出错

- 使用get、set方法的好处

  - 私有化成员变量，隐藏实现细节
  - get、set方法给私有成员变量，提供了一种访问方式
    - 让使用者只能通过事先定制好的方法来访问数据
    - 可以方便地加入控制的条件，限制对属性的不合理操作
  - get、set方法将成员变量的读、写分离了
    - 再也不是之前的读写，一体化的形式了
  - 成员变量的访问从之前的不可控，变为了可控
    - 体现了封装将使用者和代码的设计者分开了

- 静态成员变量，基本和普通成员变量没有区别，但是要注意get、set方法也要是静态的

- 封装成员变量后，给成员变量赋值的方式改变了，我们今后基本只有这种方式了

  - 无参构造方法创建对象后，set方法逐一赋值
  - 有参构造
  - 对象名点的形式一般都是不可用的了

  

```
（1）隐藏类的实现细节；
（2）便于修改，增强代码的维护性和健壮性；
（3）提高代码的安全性和规范性；
（4）使程序更加具备稳定性和可拓展性。
```





> 小试牛刀

- 创建程序,在其中定义两个类：Person和Demo类
- Person类具有年龄这个属性，并且年龄应该处于0~130之间
- 编写代码，体会Java的封装性


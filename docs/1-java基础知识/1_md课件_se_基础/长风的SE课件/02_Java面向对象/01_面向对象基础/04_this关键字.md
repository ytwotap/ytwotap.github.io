# ④this关键字

[TOC]

## 1. 引例

> 按照下述说明写代码，研究问题

- 创建一个汽车类，有颜色和速度两个属性，行为是可以跑
  - 然后在成员方法中访问该属性，创建对象后调用该方法并查看结果
  - 然后在成员方法的形参列表中，定义和属性同名的局部变量，不修改方法体再次调用该方法
- 思考：
  - 两次调用的结果是否一致，如果不同原因是什么
  - 如果我想在有同名参的方法中，访问同名成员变量，怎么办？



## 2. 就近原则

> 就近原则最经典的体现，就是在方法中如果存在同名的局部变量和成员变量
>
> 那么访问该同名变量，得到的结果

- 必然是距离访问语句更近的局部变量，而不是同名成员变量
- 就近原则在Java中非常常见，是Java语言设计者遵守的一个常规协定



## 3. this关键字

> 在就近原则的前提下，普通手段是无法访问同名成员变量的，所以引用this关键字实现访问

### 3.1 引入

- **this关键字（重点）**
  - **Java当中每个类的成员方法的形参列表中都隐含了一个传参**
  - **该传参用this引用接收，this引用指向当前对象**
  - **所以this关键字表示当前对象**
- 什么叫当前对象？
  - 创建对象，然后用对象名点调用成员方法
  - 对象名（引用）指向的对象，就是当前对象，就是成员方法中的隐含传参this指向的对象
- 正是因为成员方法中，有隐含的this传参指向了当前对象
  - 所以可以直接在成员方法中，用this去访问成员变量和调用成员方法
  - 因为是隐式传参，上述访问成员时，this可以省略
  - 但是当成员方法中，有同名局部变量时，由于就近原则
    - 这个时候，如果还想要访问成员变量，就不能省略this关键字
    - **所以，可以用this访问表示成员变量，来和局部变量做区分**

### 3.2 this关键字的作用

1. 可以在成员方法中区分同名的成员变量和局部变量
2. 可以在成员方法中去调用别的成员方法（实际上并没有必要写出这个this）
   - static方法和static方法之间可以直接互相调用
   - 非static成员方法之间也可以直接互相调用
   - static方法中想要访问成员方法，必须先创建对象
3. this很重要的用途是：
   - 用来指示一个变量到底是成员变量还是局部变量
   - **在代码比较复杂的情况下，可以显著增加代码可读性**
4. 未完待续...



## 4. 总结和注意事项

> 总结和注意事项

- this指向当前对象的隐式传参，必须是在普通成员方法中
  - 加static的方法中，没有该this传参
- 可以在成员方法中打印该this关键字，可以发现和在main方法中打印对象名（引用）结果一致
- 既然this指向当前对象，那么不同的this指向的对象必然不同


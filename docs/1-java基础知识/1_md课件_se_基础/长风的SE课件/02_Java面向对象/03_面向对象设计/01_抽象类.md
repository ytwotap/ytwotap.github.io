# 抽象类（abstract）



> 思考
>
> Animal类的继承体系，有什么问题？
>
> - 从代码角度上，有没有冗余代码？
> - 从设计角度上，在这个案例中，会存在一个“动物”对象吗？

```Java
class Animal {
    public void shout() {
        System.out.println("动物叫");
    }
}
class Cat extends Animal {
    @Override
    public void shout() {
        System.out.println("猫叫");
    }
}
class Dog extends Animal {
    @Override
    public void shout() {
        System.out.println("狗叫");
    }
}
```



















> 我们很容易就能够发现以下问题

- Animal类中的shout()方法，实际上是不会被调用的
  - 最好的情况是这个方法只需要声明然后被重写，不需要方法体
- 这个案例中，并不会真的存在一个Animal对象，Animal是一个抽象的概念
  - 我们不能也不应该去描述一个“Animal”的叫声
  - 我们不会实例化一个Animal对象，这个类不是用来创建对象的，而是用来被继承的

- 总结：
  - Animal类不应该创建实例对象，该类只需要用来被继承
  - Animal类中的方法不应该有方法体，该方法只需要用来被重写





















![image-20210111095710191](../../../../markdown_picture/image-20210111095710191-1610764743846.png)



> 抽象类定义
>
> 在继承体系中，从祖先类开始，随着一个个子类的定义，子类变得越来越具体
>
> 而祖先类则更具有一般性和抽象性
>
> 在这种情况下，为了体现祖先类在设计上的抽象性
>
> 我们只将该类作为派生其他类的父类，而不能创建对象实例
>
> 这个时候，这样的类，我们称之为抽象类

- 抽象类使用abstract关键字标记

  - ```Java
    [访问权限修饰符] abstract class 类名{
    }
    ```
  
- 表示该类是一个抽象类
  
- 抽象类无法被实例化，抽象类不能实例化，但是开发中会提供子类，可以用多态的方式访问
  
- 抽象方法使用abstract关键字标记

  - ```Java
    [权限修饰符] abstract 返回值类型 方法名(形参列表);
    ```

  - 表示该方法是一个抽象方法
  - 抽象方法必须在一个抽象类中
  - 抽象方法没有方法体，只有方法声明，不要忘记写分号







> 自此，我们已经引入了抽象类的概念
>
> 接下来，我们重点来研究一个抽象类的特点和使用
>
> 我们从下面两个角度分析

- 抽象类的成员
  - 成员变量
  - 成员方法
  - 构造方法

- 抽象类的子类

​	







> 抽象类的成员特点：

- 抽象类具有普通构造方法，成员变量和成员方法

- 抽象类具体普通类都可以有的成员变量，静态成员变量，常量
- 抽象类可以有抽象方法，也可以有普通方法
  - 抽象方法起着占位的作用，该方法必须在子类中实现
  - 抽象方法不能是private、static、final修饰的
  - 普通方法可以作为一个默认实现，子类可以使用这个方法，也可以自行重写
  - 抽象类中可以没有抽象方法，这样做的目的是不让创建对象
    - 但是一般不要这么做，抽象类是一个设计上的概念，应该从设计上正确的使用它
    - 如果仅仅是为了不让外界创建对象，私有化构造方法即可
    - 普遍来说，既然是抽象类就应该有抽象方法，不然没啥意义
- 抽象类虽然不能实例化，但仍然有构造方法
  - 抽象类中的构造方法是留给子类初始化时调用的
  - Java当中，只要是类都具有构造方法
- 总结抽象类成员
  - 构造方法：同普通类
  - 成员变量：同普通类
  - 成员方法：可以是抽象方法，也可以是非抽象方法



>  抽象类的子类的特点：

- 抽象类的子类可以是抽象类，也可以是具体类
- 只有当子类重写了，所有的继承自抽象类的方法，该子类才能被定义为具体类
- 反之，若任一抽象方法没有被重写，该类都必须定义为抽象类







> abstract关键字使用上的注意点（notice）

- 不能用来修饰构造器、属性、代码块等结构
- 不能用来修饰final类
  - 无法被继承的类
- 不能用来修饰私有方法、静态方法 、final方法
  - 无法被重写的方法
- 一个抽象类中可以没有抽象方法，但是意义不是很大











> 小试牛刀
>
> 我们正在开发一套员工管理系统，需要对公司内部存在的员工进行管理
>
> 公司将员工分为三类，普通员工负责杂项工作，程序员负责技术开发，经理负责统筹规划
>
> 普通员工包含3个属性：姓名、工号以及工资，行为是工作
>
> 程序员包含3个属性：姓名、工号以及工资，行为是工作和加班（overtime work）
>
> 经理包含4个属性：姓名、工号、工资以及奖金（bonus），行为是工作

- 请使用所学的知识设计该员工系统
- 要求类中提供必要的方法进行属性访问（description）
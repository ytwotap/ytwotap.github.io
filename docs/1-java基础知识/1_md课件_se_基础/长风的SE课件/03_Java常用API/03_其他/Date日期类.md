# Java日期类

> 严格来说，Java的日期类设计是比较曲折的，甚至是有些失败的，可谓是改了又改，始终不尽如人意
>
> java.util包下提供了 Date 类来封装当前的日期和时间，这个类中绝大多数方法已经过时了
>
> 但是作为Java日期类的基本类，仍然有学习的必要

- Date类表示一个特定的瞬间时间，精确到毫秒

- 构造方法：目前仍没有过时的只有两个

  - ```java
    //该构造函数使用当前日期和时间来初始化对象	
    Date()
    ```

  - ```java
    //第二个构造函数接收一个参数，该参数是从1970年1月1日起的毫秒数
    Date(long millisec)
    ```

  - 无参构造方法调用底层的native方法System.currentTimeMillis()方法

    - 该方法会根据操作系统来获取当前的时间戳

  - 时间戳：从格林威治时间（GMT）1970 年 1 月 1 日 00:00:00 到现在的毫秒数

    - 时间戳可以通过一些工具网站进行查询和转换时间

- 成员方法：了解两个即可

  - ```java
    //用自1970年1月1日00:00:00 GMT以后time毫秒数设置时间和日期。
    void setTime(long time)
    ```

  - ```java
    //返回自1970年1月1日00:00:00 GMT以来此Date对象表示的毫秒数。
    long getTime( )
    ```

- 中国处在东八区，格林威治时间1970 年 1 月 1 日 00:00:00是中国的1970 年 1 月 1 日 08:00:00



> 显然这种日期格式和我们生活中的日期格式，相去甚远
>
> 为了以更贴近生活中的方式去描述时间，实现直接把一个字符串转换成Date的需求
>
> 因此考虑使用别的日期类实现需求
>
> DateFormat是日期和时间格式化子类的抽象类，它能够以自定义的格式解析或者格式化日期和时间
>
> 由于其是一个抽象类，所以使用其子类SimpleDateFormat实现日期和字符串的相互转换。

- SimpleDateFormat的构造方法

  - ```Java
    //以传入的字符串格式进行解析或者格式化日期
    public SimpleDateFormat(String pattern)
    ```

  - pattern的书写格式

    - y：表示年，例如yyyy，表示千年年份
    - M：表示月份，例如MM，表示月份（最多12，两位数）
    - d：表示月份中的天数，例如dd，表示天数（最多31，两位数）
    - H：表示一天中的小时数，例如HH，表示小时数（最多24，两位数）
    - m：表示小时中的分钟数，例如mm，表示分钟数（最大59，两位数）
    - s：表示分钟里的秒数，例如ss，表示秒数（最大59，两位数）

  - 该对象仅仅只是描述日期的格式，并不代表时间

  - 想要表示时间，仍然要使用Date对象

- SimpleDateFormat的成员方法

  - ```Java
    //将传入的Date对象按照pattern格式，格式化成一个字符串
    public final String format(Date date)  
    ```

  - ```java
    //将传入的字符串按照pattern格式，解析成一个Date对象
    public Date parse(String source)
    ```

  - parse方法会抛出一个编译时异常ParseException，需要显式处理

    - 当传入的字符串和解析的格式不同，就会抛出该异常

  - format方法不会抛出编译时异常，不需要显式处理

    - 当pattern格式不正确，会抛出异常，非法参数异常


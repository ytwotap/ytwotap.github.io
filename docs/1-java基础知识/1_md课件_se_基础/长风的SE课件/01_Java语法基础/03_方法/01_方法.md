# ①方法

[TOC]

---



## 1. 方法的引入

> 引例

- 现在有三个需求：
  - 编写程序，计算10+20，并输出结果
  - 编写程序，计算111+222，并输出结果
  - 编写程序，计算333+444，并输出结果

- 请分析：
  - 这个程序有哪些缺点？



> 结论

- 显然这个程序当中的代码没有被复用，我们重复写了大量代码，是可以被优化的

- 这个时候我们就需要这样一种机制：
  - 能够重复实现某种特定功能，解决某一类问题
  - 每次重复实现功能时，只需要传入具体的数据
  - 实现功能后，可以给出一个结果数据

- 这种机制就是Java语言中的方法（**method**）
- 使用” 方法 “去实现某种特定功能的过程叫做方法的调用（**invoke**）



## 2. 方法的定义

> 一般情况下，定义一个方法是以下语法结构：

```java
[修饰符列表] 返回值类型 方法名 (形式参数列表){
	//方法体
}
```

> 两个概念

- **[修饰符列表] 返回值类型 方法名 (形式参数列表)** 合起来称之**方法的声明**（也叫**方法头**）
- **方法名 (形式参数列表)**合起来称之为**方法的签名**

> 逐一解释

- **修饰符列表**：修饰符列表不是必须的，可以为空不写，现在默认为**public static**（具体含义面向对象讲）
- **返回值类型**：方法可能会有结果，这个结果就是返回值，返回值的数据类型称之为**返回值类型**
  - 返回值类型可以是基本数据类型，也可以是引用数据类型（例如String）
    - 此时表示方法拥有返回值，必须显式的指出该返回值，否则编译报错
    - 在方法体中用“return”关键字指示返回值，格式为“return + 返回值”
    - return后的返回值的数据类型，要和方法声明中的返回值类型保持一致（或者兼容）
    - 方法执行到return时，方法执行完毕
  - 方法完全可以没有结果，也就是没有返回值，但是方法必须要有返回值类型，用关键字**void**标记
    - 使用void标记的方法，没有返回值，自然也无需指出返回值
- **方法名**：给方法起个名字，调用方法时用的，方法名的命名需要遵守规范
  - 必须是合法的标识符
  - 方法名最好“望文生义”
  - 方法名最好是动词
  - **方法名遵循首字母小写，其他单词的首字母大写的“小驼峰命名法”**
- **形式参数列表**：方法在实现功能时，有时需要传入数据。
  - 方法在定义时就应该告诉方法的调用者应该传入什么数据，这就是**形式参数列表**，简称**形参列表**
    - 形参可以是基本数据类型变量，也可以是引用数据类型变量
    - 形参的个数不受限，多个形参之间用逗号隔开
    - 形参的作用域仅在方法内部，它们都是**局部变量**
    - 形参中起关键决定性作用的是**形参的数据类型**，形参名只是一个标识符，不会影响方法调用
  - **形参列表**实际只是一个占位符，并不是真正的参数。
    - 调用方法时传入的具体数据参数称之为**实际参数**，简称实参
    - 方法调用时，实参和形参的数据类型要一一对应，并且保持一致（或者兼容）
- **方法体**：方法体包含具体的语句，定义该方法的功能，由大括号包裹起来。

> 方法的本质

- 方法实际上是可以重复完成特定功能的代码块，是为了代码复用

> 函数与方法（C++/Java）

- 方法可以认为是一个程序的子程序，在许多程序设计语言中（比如C/C++）用函数这个术语描述命名子程序
- 函数和方法只是用词习惯上和名字叫法上的差别，实质上是一样的结构

> 注意事项：

- 方法不调用，不执行，各个方法之间是平行关系
- 方法要定义在类体中，方法不能嵌套，方法在类体中定义的顺序对方法调用没有影响
- 对于修饰符列表中有static的方法，在同一个class的main方法中的调用方式是：方法名(实际参数列表)
- 调用一个有返回值的方法，实际上就是操作返回值，void方法不能做任何操作。



## 3. main()方法

> main方法详解：

```Java
public static void main(String[] args) {
	//方法体	
}
```

- public static表示“公开的，静态的”，具体含义面向对象再讲
- void表示方法没有返回值
- main是方法名，代表这个方法是主方法，是程序的入口方法。
  - main不是关键字，但是自定义方法不要用这个名字
- （String[] args）是形参列表，其中String[]是一种引用类型，数组（马上讲），args是一个形参名
  - 理论上来说，args可以在符合标识符命名的前提下可以任意写。但是不建议这么做
- main方法是启动程序时给**JVM**调用的，是程序的入口方法



## 4. 小试牛刀

> 小试牛刀

- 键盘录入两个值，求最大值
- 定义一个方法，求圆的面积
  - 方法参数:半径 (radius) 
  - 圆周率:3.14
- 定义一个计算器（Calculator）它的功能有
  - 加，减，乘，除
  - 求平方
  - 求a的n次方



## 5. 什么时候需要使用方法？

- 复用代码
- 很多时候我们会在一个方法中写大量的代码去实现某个功能，但是一个方法中代码过多会导致结构臃肿
  - 所以很多时候，即便是不需要复用代码，也可以考虑提取出新的方法
    - **优化代码结构**
    - 使程序变得更简短而清晰
- 提取方法的快捷键**Ctrl+Alt+M**